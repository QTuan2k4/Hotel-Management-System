<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{fragments/head :: head('My Bookings')}"></head>

<body>
  <div th:replace="~{fragments/nav :: nav}"></div>
  <div class="container">
    <h1 style="margin: 30px 0;">My Bookings</h1>

    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
    <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>

    <div th:if="${#lists.isEmpty(bookings)}" class="card">
      <p>You have no bookings yet. <a href="/">Browse rooms</a></p>
    </div>

    <table th:unless="${#lists.isEmpty(bookings)}" class="card" style="padding: 0;">
      <thead>
        <tr>
          <th>ID</th>
          <th>Room ID</th>
          <th>Check-in</th>
          <th>Check-out</th>
          <th>Status</th>
          <th>Price/Night</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="b : ${bookings}">
          <td th:text="${b.id}"></td>
          <td th:text="${b.roomId}"></td>
          <td th:text="${b.checkInDate}"></td>
          <td th:text="${b.checkOutDate}"></td>
          <td>
            <span class="status" th:classappend="'status-' + ${b.status.name().toLowerCase()}"
              th:text="${b.status}"></span>
          </td>
          <td th:text="${b.pricePerNightSnapshot != null ? '$' + b.pricePerNightSnapshot : '-'}"></td>
        </tr>
      </tbody>
    </table>
  </div>
</body>

</html>