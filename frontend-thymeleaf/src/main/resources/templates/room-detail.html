<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>HMS - Chi tiết phòng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
  <div th:replace="fragments/nav :: nav"></div>

  <main class="container py-4">
    <a th:href="@{/}" class="text-decoration-none">&larr; Quay lại</a>

    <div class="mt-3 p-4 border rounded-3 bg-light">
      <h3 th:text="${room.name}">Room</h3>
      <div class="text-muted" th:text="'Mã: ' + ${room.code} + ' | Loại: ' + ${room.type}">meta</div>
      <div class="mt-2">
        <span class="badge bg-success" th:text="${room.status}">AVAILABLE</span>
      </div>
      <div class="mt-2 fw-bold" th:text="${#numbers.formatDecimal(room.pricePerNight, 0, 'COMMA', 0, 'POINT')} + ' VND/đêm'">price</div>
      <p class="mt-2" th:text="${room.description}">desc</p>

      <div class="alert alert-warning mt-3 mb-0">
        <div class="mt-4 p-3 border rounded-3 bg-white">
		  <h5 class="mb-3">Đặt phòng</h5>
		
		  <form method="post" th:action="@{/bookings}">
		    <input type="hidden" name="roomId" th:value="${room.id}"/>
		
		    <div class="row g-3">
		      <div class="col-md-4">
		        <label class="form-label">Ngày nhận phòng</label>
		        <input type="date" class="form-control" name="checkInDate" required
		               th:value="${checkInDate}">
		      </div>
		
		      <div class="col-md-4">
		        <label class="form-label">Ngày trả phòng</label>
		        <input type="date" class="form-control" name="checkOutDate" required
		               th:value="${checkOutDate}">
		      </div>
		
		      <div class="col-md-4 d-flex align-items-end gap-2">
		        <button type="submit" class="btn btn-primary w-100">Đặt phòng</button>
		      </div>
		    </div>
		  </form>
		
		  <div class="mt-3">
		    <div th:if="${message}" class="alert alert-success mb-0" th:text="${message}"></div>
		    <div th:if="${error}" class="alert alert-danger mb-0" th:text="${error}"></div>
		  </div>
		
		  <div class="text-muted small mt-3">
		    * Booking sẽ ở trạng thái <b>PENDING_APPROVAL</b> và chờ admin duyệt.
		  </div>
		</div>

      </div>
    </div>
  </main>
</body>
</html>
